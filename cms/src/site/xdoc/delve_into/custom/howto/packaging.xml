<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC
  "-//Apache Software Foundation//DTD XDOC 1.0//EN"
  "http://maven.apache.org/dtd/xdoc_1_0.dtd">
<!--
  Copyright 2007 Hippo

  Licensed under the Apache License, Version 2.0 (the  "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS"
  BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<document>
  <properties>
      <title>Test your GUI plugin</title>
  </properties>
  <body>
      <section name="Testing the Hello World plugin">
        <span class="shortdesc">Include your own GUI plugin in Hippo CMS</span>
        <p>
          To test our <a href="gui_plugin.html">HelloWorldPlugin</a> we need to add our hello world jar to the classpath
          of our WAR application. Make sure you
          have a <a href="../../core/building/maven.html">complete SVN checkout of Hippo ECM</a>.
          You will find the WAR application under <b>quickstart/war</b> in the Hippo ECM project tree:
        </p>

<source>
hippo-ecm
`-- quickstart    hippo-ecm-quickstart
  `-- war         hippo-ecm-quickstart-war
</source>

        <subsection name="Adding a dependency on our plugin">
          <p>
            To be able to use our plugin we need to add a dependency on it to Maven POM of the WAR
            application (<b>quickstart/war/pom.xml</b>).
          </p>
          <source>
<![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

  ...

  <dependencies>

    ...

    <dependency>
      <groupId>org.example</groupId>
      <artifactId>hello-world-plugin</artifactId>
      <version>1.01.00</version>
      <type>jar</type>
    </dependency>

    ...

  </dependencies>

  ...

</project>]]>
          </source>
      </subsection>

      <subsection name="Running the application">
        <p>
          Now run the application using the following Maven command:
        </p>
<source>
cd hippo-ecm/quickstart/war
mvn jetty:run-war
</source>
        <p>
          You should now be able to approach the Console application with your web browser
          on <a href="http://localhost:8080/cms/console/">http://localhost:8080/cms/console/</a>.
          Login with username "admin" and password "admin". The full CMS is accessible at
          <a href="http://localhost:8080/cms/">http://localhost:8080/cms/</a>, using the same credentials.
        </p>
      </subsection>

      <subsection name="Configuring to application to use the plugin">
        <p>
          All it takes to see our plugin in all its glory is to replace one of
          the standard plugins in the plugin configuration with our own, using
          the <a href="../../sysadmin/configuration/console.html">Console application</a>.
          To do this, navigate to the
          <b>/hippo:configuration/hippo:frontend/cms/cms-static/shortcutsPlugin</b> node.  The
          properties of the shortcutsPlugin node are displayed on the right side of
          the page.  Change the class name in the <code>plugin.class</code>
          property of this node to
          <code>org.example.helloworld.HelloWorldPlugin</code>.
          Save your changes.
        </p>
        
        <p>
          <a href="../../../images/configure-hello-world-plugin.png">
            <img src="../../../images/configure-hello-world-plugin_thumbnail.png" alt="Plugin configuration screenshot" style="border:1px solid grey;"/>
          </a>
        </p>
        
        <p>
          Now login to <a href="http://localhost:8080/cms/">http://localhost:8080/cms/</a>,
          and admire your work!  The Hello World plugin should be visible in
          the Dashboard (since you replaced the ShortcutsPlugin with
          your HelloWorld plugin).
        </p>
        
        <p>
          <a href="../../../images/hello-world-plugin.png">
            <img src="../../../images/hello-world-plugin_thumbnail.png" alt="Hello World screenshot"  style="border:1px solid grey;"/>
          </a>
        </p>
        
        <br/>
      </subsection>

      <p>
        <a href="extend_dashboard.html">Continue to "Giving our plugin a place on the dashboard".</a>
      </p>

    </section>

  </body>
</document>
