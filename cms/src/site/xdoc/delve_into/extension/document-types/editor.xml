<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC
  "-//Apache Software Foundation//DTD XDOC 1.0//EN"
  "http://maven.apache.org/dtd/xdoc_1_0.dtd">
<!--
  Copyright 2007 Hippo

  Licensed under the Apache License, Version 2.0 (the  "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS"
  BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<document>
    <properties>
        <title>The Document Type Editor</title>
    </properties>
    <body>
      <section name="The Document Type Editor">

        <p>
          Hippo CMS 7 provides a visual tool that makes creating
          and editing document types just as easy as
          <a href="../../user/tour/editing_a_document.html">creating and editing documents</a>.
          You can add or remove <a href="fieldtypes.html">fields</a> with a single mouse click.
        </p>
        
        <a href="../../../images/extension/document-types/document-type-editor.png">
          <img src="../../../images/extension/document-types/document-type-editor-thumbnail.png" width="400" height="255" alt="Screenshot of the document type editor"/>
        </a>
        
        <subsection name="Using the editor">
          <p>
            The document type editor is accessible from the 'Browse' tab in Hippo CMS.
            Under 'Configuration' in the left column, you will find your document
            types. You can edit an existing type by selecting it, and clicking on 'Edit',
            or create a new type by choosing 'Create new type' from the dropdown.
          </p>
          <p>
            To add a field to the document type's template, click on one of the available
            <a href="fieldtypes.html">field types</a> listed at the right side of the editor.
          </p>
          <img src="../../../images/extension/document-types/document-type-editor-field-types.png" alt="Screenshot detail of new field type selector"/>
          <p>
            The new field will be added at the bottom of the template. To move it to
            a different position, you can use the up and down arrows located in the
            top right corner of the field preview.
          </p>
          <img src="../../../images/extension/document-types/document-type-editor-field-preview.png" alt="Screenshot detail of field preview"/>
          <p>
            At the right side of the window,
            below the list of available field types, the properties of the newly added
            field will appear. This is where you enter a name for your field, as it will
            appear in the editor when a document of your type is being edited.
          </p>
          <p>
            In addition, you need to specify a path for the field. By default, this is
            the namespace of your document type, a colon, and the field type, e.g.
            'defaultcontent:html'. Since paths must be unique, change the path to
            something like 'defaultcontent:body', to prevent conflicts with other fields
            of the same type.
          </p>
          <p>
            Finally, you can check if the field is mandatory, and if it accepts multiple values.
            <!-- FIXME: what do 'Ordered' and 'Primary' do? -->
          </p>
          <img src="../../../images/extension/document-types/document-type-editor-field-properties.png" alt="Screenshot detail of field properties editor"/>
          <p>
            When you are done editing your document type, save it by clicking 'Save and close'
            in the top menu bar.
          </p>
          <img src="../../../images/extension/document-types/document-type-editor-save.png" alt="Screenshot detail of save options"/>
        </subsection>
        
        <subsection name="Applying your changes">
          <p>
            After saving your new or edited document type, you need to apply your changes
            by selecting 'Update all content' in the dropdown menu. If you created a new
            document type, it will now be available from the document type selector in
            the 'New document' dialog.
          </p>
          <p>
            If you edited an existing document type, the 'Update all content' action will
            update all existing documents of that type to reflect the new template. If
            you added one or more fields, they will be added to existing documents.
            If you removed one or more fields, they will be removed from existing documents.
            Be careful with renaming field names and paths: it is difficult to update
            existing content in these cases and possibly you will lose some data.
          </p>
          <img src="../../../images/extension/document-types/document-type-editor-update-content.png" alt="Screenshot detail of update content action"/>
        </subsection>
        
        <subsection name="Advanced">
          <p>
            Using the visual document type editor, you can create straightforward
            document templates. If you need more advanced functionality, you can always
            fall back to specifying your document type on bare JCR level. This is
            explained in the <a href="advanced.html">Advanced Document Types</a> section.
          </p>
        </subsection>



      </section>
    </body>
</document>