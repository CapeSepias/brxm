<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2012-2014 Hippo B.V. (http://www.onehippo.com)

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

            http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<!DOCTYPE document PUBLIC
  "-//Apache Software Foundation//DTD XDOC 1.0//EN"
  "http://maven.apache.org/dtd/xdoc_1_0.dtd">

<document>
    <properties>
        <title>Forge Robots.txt - Usage</title>
    </properties>
    <body>
        <section name="Usage">
            After successful <a href="install.html">Installation</a> of the plugin, it can be used
            in the CMS to control how your website will respond to webbots' requests for the robots.txt
            resource. Usage can be divided into 2 parts: defining the content and controlling the accessibility.
            <subsection name="Defining the Content">
                <p>
                    Using the Robots.txt plugin, the CMS allows you to create documents of type
                    <i>Robots.txt configuration</i>. When creating or updating such a document, the Document Viewer
                    will show the following form (in editing mode).
                </p>
                <div class='group'>
                    <div class='screenshot'>
                        <img src="images/robotstxt_CMS.jpg" />
                    </div>
                </div>
                <p>
                    Multiple <i>Sections</i> are supported, each section representing a <i>User-agent:</i> line
                    followed by zero or more <i>Disallow:</i> lines.
                </p>
                <p>
                    The shown configuration has the effect that for the User-agent called <i>Googlebot</i>,
                    all URLs under [your.site]/abc and [your.site]/def are disallowed. For all other
                    User-agents, all URLs under [your.site]/donotindex are disallowed.
                </p>
                <p>
                    On top of this, the robots.txt plug-in automatically adds all faceted navigation URLs as
                    disallowed. This behavior can only be overridden on the CMS Console, by adding the Boolean
                    property <i>robotstxt:disallowfacnav</i> with value <i>false</i> to the Robots.txt configuration
                    document.
                </p>
            </subsection>
            <subsection name='Controlling Access to robots.txt'>
                <p>
                    In order for the site to render the content specified above, the following configuration needs
                    to be setup in the CMS Console:
                </p>
                <p>
                    Under your site's HST-configuration, in the <code>sitemap</code>, add a node of type
                    <code>hst:sitemapitem</code> with name <code>robots.txt</code>, and add the following two properties:

                    <ul>
                      <li>hst:componentconfigurationid <code>hst:pages/robotstxt</code>. This component is automatically
                      bootstrapped into the <code>hst:default</code> configuration by the plug-in.</li>
                      <li>hst:relativecontentpath (the path to your Robots.txt configuration document, relative to
                      the site's content root.</li>
                    </ul>
                </p>
            </subsection>
            <subsection name='Validating the Configuration'>
                <p>
                    If all is well, you can now prompt your browser to the robots.txt file of your site,
                    and the content supplied above should show up.
                </p>
                <p>
                    The screen shot below shows sample output for the Hippo demo website, which has quite
                    a few faceted navigation links. Note how they show up after the section-specific paths
                    for all sections.
                </p>
                <div class='group'>
                    <div class='screenshot'>
                        <img src="images/robotstxt_Site.jpg" />
                    </div>
                </div>
            </subsection>
        </section>
    </body>
</document>
