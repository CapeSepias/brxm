<?xml version="1.0" encoding="UTF-8"?>
<sv:node sv:name="demoMarketo" xmlns:sv="http://www.jcp.org/jcr/sv/1.0">
  <sv:property sv:name="jcr:primaryType" sv:type="Name">
    <sv:value>crisp:resourceresolver</sv:value>
  </sv:property>
  <sv:property sv:name="crisp:beandefinition" sv:type="String">
    <sv:value>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&#xd;
&lt;beans xmlns="http://www.springframework.org/schema/beans"&#xd;
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#xd;
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd"&gt;&#xd;
&#xd;
  &lt;bean parent="abstractCrispSimpleJacksonRestTemplateResourceResolver"&#xd;
        class="org.onehippo.cms7.crisp.core.resource.jackson.SimpleJacksonRestTemplateResourceResolver"&gt;&#xd;
    &lt;property name="baseUri" value="${marketo.baseUrl}/rest/v1" /&gt;&#xd;
    &lt;property name="restTemplate"&gt;&#xd;
      &lt;bean class="org.springframework.security.oauth2.client.OAuth2RestTemplate"&gt;&#xd;
        &lt;constructor-arg&gt;&#xd;
          &lt;bean class="org.springframework.security.oauth2.client.token.grant.client.ClientCredentialsResourceDetails"&gt;&#xd;
            &lt;property name="accessTokenUri" value="${marketo.baseUrl}/identity/oauth/token" /&gt;&#xd;
            &lt;property name="clientId" value="${marketo.clientId}" /&gt;&#xd;
            &lt;property name="clientSecret" value="${marketo.clientSecret}" /&gt;&#xd;
            &lt;property name="grantType" value="client_credentials" /&gt;&#xd;
          &lt;/bean&gt;&#xd;
        &lt;/constructor-arg&gt;&#xd;
        &lt;constructor-arg&gt;&#xd;
          &lt;bean class="org.springframework.security.oauth2.client.DefaultOAuth2ClientContext"&gt;&#xd;
            &lt;constructor-arg&gt;&#xd;
              &lt;bean class="org.springframework.security.oauth2.client.token.DefaultAccessTokenRequest"&gt;&#xd;
              &lt;/bean&gt;&#xd;
            &lt;/constructor-arg&gt;&#xd;
          &lt;/bean&gt;&#xd;
        &lt;/constructor-arg&gt;&#xd;
        &lt;property name="requestFactory" ref="org.springframework.http.client.ClientHttpRequestFactory" /&gt;&#xd;
      &lt;/bean&gt;&#xd;
    &lt;/property&gt;&#xd;
    &lt;property name="resourceDataCache"&gt;&#xd;
      &lt;bean class="org.onehippo.cms7.crisp.core.resource.SpringResourceDataCache"&gt;&#xd;
        &lt;constructor-arg&gt;&#xd;
          &lt;bean class="org.springframework.cache.ehcache.EhCacheCache"&gt;&#xd;
            &lt;constructor-arg&gt;&#xd;
              &lt;bean parent="abstractCrispResourceEhCache"&gt;&#xd;
                &lt;property name="cacheName" value="demomarketoCache" /&gt;&#xd;
                &lt;property name="maxEntriesLocalHeap" value="1000" /&gt;&#xd;
                &lt;property name="maxEntriesLocalDisk" value="0" /&gt;&#xd;
                &lt;property name="timeToLiveSeconds" value="60" /&gt;&#xd;
                &lt;property name="timeToIdleSeconds" value="60" /&gt;&#xd;
              &lt;/bean&gt;&#xd;
            &lt;/constructor-arg&gt;&#xd;
          &lt;/bean&gt;&#xd;
        &lt;/constructor-arg&gt;&#xd;
      &lt;/bean&gt;&#xd;
    &lt;/property&gt;&#xd;
  &lt;/bean&gt;&#xd;
&#xd;
&lt;/beans&gt;</sv:value>
  </sv:property>
  <sv:property sv:multiple="true" sv:name="crisp:propnames" sv:type="String">
    <sv:value>marketo.clientId</sv:value>
    <sv:value>marketo.clientSecret</sv:value>
    <sv:value>marketo.baseUrl</sv:value>
  </sv:property>
  <sv:property sv:multiple="true" sv:name="crisp:propvalues" sv:type="String">
    <sv:value>someClientId</sv:value>
    <sv:value>someClientSecret</sv:value>
    <sv:value>https://302-gjy-034.mktorest.example.com</sv:value>
  </sv:property>
</sv:node>
